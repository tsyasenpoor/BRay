Job started on: xanadu-39
Job started at: Sun Jul 13 19:04:15 EDT 2025
SLURM_JOB_ID: 9226852
SLURM_SUBMIT_DIR: /labs/Aguiar/SSPA_BRAY/BRay
Python version: Python 3.11.12
Running script: /labs/Aguiar/SSPA_BRAY/BRay/VariationalInference/run_experiments.py 10 times
--- Starting iteration 1 ---
Initial memory usage: 221.64 MB
Initial memory usage: 230.95 MB
MEMORY [Before loading data files]: 230.95 MB
MEMORY [After loading CYTOSEEDS]: 231.85 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.85 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 238.04 MB
MEMORY [Before convert_pathways_to_ensembl]: 238.04 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.65 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.44 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: 0.00 MB, now at 302.46 MB
--- UNHANDLED EXCEPTION for d=1000 ---
Error: dot_general requires contracting dimensions to have the same shape, got (2,) and (1,).
MEMORY CLEARED: 172.17 MB, now at 442.27 MB

All experiments completed!
Results saved to: /labs/Aguiar/SSPA_BRAY/BRay/Results/unmasked/20250713_190437

Summary of results:
--------------------------------------------------------------------------------
Experiment                     Train Acc  Val Acc    Test Acc   Train F1   Val F1     Test F1   
------------------------------------------------------------
emtab_both_labels_d_1000       N/A        N/A        N/A        N/A        N/A        N/A       
--- Finished iteration 1 ---
--- Starting iteration 2 ---
Initial memory usage: 221.82 MB
Initial memory usage: 230.93 MB
MEMORY [Before loading data files]: 230.93 MB
MEMORY [After loading CYTOSEEDS]: 231.81 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.81 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 238.00 MB
MEMORY [Before convert_pathways_to_ensembl]: 238.00 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.61 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.43 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: 0.00 MB, now at 302.45 MB
--- UNHANDLED EXCEPTION for d=1000 ---
Error: dot_general requires contracting dimensions to have the same shape, got (2,) and (1,).
MEMORY CLEARED: 172.13 MB, now at 443.82 MB

All experiments completed!
Results saved to: /labs/Aguiar/SSPA_BRAY/BRay/Results/unmasked/20250713_190447

Summary of results:
--------------------------------------------------------------------------------
Experiment                     Train Acc  Val Acc    Test Acc   Train F1   Val F1     Test F1   
------------------------------------------------------------
emtab_both_labels_d_1000       N/A        N/A        N/A        N/A        N/A        N/A       
--- Finished iteration 2 ---
--- Starting iteration 3 ---
Initial memory usage: 221.65 MB
Initial memory usage: 230.93 MB
MEMORY [Before loading data files]: 230.93 MB
MEMORY [After loading CYTOSEEDS]: 231.65 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.86 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 237.79 MB
MEMORY [Before convert_pathways_to_ensembl]: 237.79 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.65 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.44 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: 0.00 MB, now at 302.48 MB
--- UNHANDLED EXCEPTION for d=1000 ---
Error: dot_general requires contracting dimensions to have the same shape, got (2,) and (1,).
MEMORY CLEARED: 172.11 MB, now at 443.61 MB

All experiments completed!
Results saved to: /labs/Aguiar/SSPA_BRAY/BRay/Results/unmasked/20250713_190455

Summary of results:
--------------------------------------------------------------------------------
Experiment                     Train Acc  Val Acc    Test Acc   Train F1   Val F1     Test F1   
------------------------------------------------------------
emtab_both_labels_d_1000       N/A        N/A        N/A        N/A        N/A        N/A       
--- Finished iteration 3 ---
--- Starting iteration 4 ---
Initial memory usage: 221.64 MB
Initial memory usage: 230.93 MB
MEMORY [Before loading data files]: 230.93 MB
MEMORY [After loading CYTOSEEDS]: 231.64 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.85 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 238.04 MB
MEMORY [Before convert_pathways_to_ensembl]: 238.04 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.65 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.43 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: 0.00 MB, now at 302.48 MB
--- UNHANDLED EXCEPTION for d=1000 ---
Error: dot_general requires contracting dimensions to have the same shape, got (2,) and (1,).
MEMORY CLEARED: 172.11 MB, now at 441.45 MB

All experiments completed!
Results saved to: /labs/Aguiar/SSPA_BRAY/BRay/Results/unmasked/20250713_190502

Summary of results:
--------------------------------------------------------------------------------
Experiment                     Train Acc  Val Acc    Test Acc   Train F1   Val F1     Test F1   
------------------------------------------------------------
emtab_both_labels_d_1000       N/A        N/A        N/A        N/A        N/A        N/A       
--- Finished iteration 4 ---
--- Starting iteration 5 ---
Initial memory usage: 221.65 MB
Initial memory usage: 230.93 MB
MEMORY [Before loading data files]: 230.93 MB
MEMORY [After loading CYTOSEEDS]: 231.65 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.86 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 237.79 MB
MEMORY [Before convert_pathways_to_ensembl]: 237.79 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.66 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.58 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: -0.01 MB, now at 302.52 MB
--- UNHANDLED EXCEPTION for d=1000 ---
Error: dot_general requires contracting dimensions to have the same shape, got (2,) and (1,).
MEMORY CLEARED: 172.14 MB, now at 447.49 MB

All experiments completed!
Results saved to: /labs/Aguiar/SSPA_BRAY/BRay/Results/unmasked/20250713_190510

Summary of results:
--------------------------------------------------------------------------------
Experiment                     Train Acc  Val Acc    Test Acc   Train F1   Val F1     Test F1   
------------------------------------------------------------
emtab_both_labels_d_1000       N/A        N/A        N/A        N/A        N/A        N/A       
--- Finished iteration 5 ---
--- Starting iteration 6 ---
Initial memory usage: 221.65 MB
Initial memory usage: 230.94 MB
MEMORY [Before loading data files]: 230.94 MB
MEMORY [After loading CYTOSEEDS]: 231.66 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/cytoseed_ensembl_cache.pkl
CYTOSEED_ensembl length: 170
MEMORY [Before reading pathways]: 231.86 MB
Number of pathways: 1730
MEMORY [After reading pathways]: 238.05 MB
MEMORY [Before convert_pathways_to_ensembl]: 238.05 MB
Loading cached data from /labs/Aguiar/SSPA_BRAY/BRay/pathways_ensembl_cache.pkl
MEMORY [After loading pathways from cache]: 241.66 MB
Original pathways count: 1730
Reactome pathways count: 1289
Filtered pathways count (REACTOME only, excluding keywords): 1277
Reactome pathways excluded due to keywords: 17
MEMORY [After converting pathways to ensembl]: 239.73 MB
MEMORY [Before loading gene annotations]: 239.73 MB
MEMORY [After loading gene annotations]: 250.44 MB
Loading cached Ensembl-converted AnnData from /labs/Aguiar/SSPA_BRAY/dataset/EMTAB11349/preprocessed/emtab_ensembl_converted.pkl
Loaded AnnData with shape: (590, 11283)
Loaded EMTAB data with shape (590, 11283) and label column 'both_labels'
Using specified d value: 1000

Running standard configuration:
Using UNMASKED configuration with 1000 gene programs

Running experiment on dataset emtab, label=both_labels
Running with d=1000
MEMORY CLEARED: 0.00 MB, now at 302.48 MB
